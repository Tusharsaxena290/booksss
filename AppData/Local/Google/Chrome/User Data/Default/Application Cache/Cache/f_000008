webpackJsonp([5],{41:function(t,e){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t)return Math.random();var n=null===e?0:t,i=null===e?t:e;return Math.random()*(i-n)+n}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t)return Math.round(Math.random());if("[object Array]"===Object.prototype.toString.call(t))return t[Math.floor(i(t.length-1))];var n=null===e?0:t,s=null===e?t:e;return Math.floor(Math.random()*(s-n+1)+n)}function s(t,e){return Math.sqrt(t*t+e*e)}function r(t,e,n,i){function s(t,e){return 1-3*e+3*t}function r(t,e){return 3*e-6*t}function a(t){return 3*t}function o(t,e,n){return((s(e,n)*t+r(e,n))*t+a(e))*t}function c(t,e,n){return 3*s(e,n)*t*t+2*r(e,n)*t+a(e)}function u(e){for(var i=e,s=0;s<4;++s){var r=c(i,t,n);if(0===r)return i;var a=o(i,t,n)-e;i-=a/r}return i}this.get=function(s){return t===e&&n===i?s:o(u(s),e,i)}}function a(t){if(t.sort(function(t,e){return t-e}),0===t.length)return null;var e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2}function o(t){return t.reduce(function(t,e){return t+e})/t.length}function c(t){for(var e=t.slice(),i=t.length;0!==i;){var s=Math.floor(n()*i);i-=1;var r=e[i];e[i]=e[s],e[s]=r}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.rand=n,e.randInt=i,e.py=s,e.median=a,e.getAvg=o,e.shuffle=c;e.easeOut=new r(0,0,.58,1),e.easeIn=new r(.42,0,1,1)},59:function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(41),a=function(){function t(e,n){i(this,t),this.props=e,this.id=e.id,this.type=e.type,this.fillStyle=e.fillStyle,this.bottomOffset=e.bottomOffset||0,this.topOffset=e.topOffset||0,this.width=e.width,this.height=e.height,this.rotate=e.rotate||0,this.angle=this.rotate*Math.PI/180,this.rotate>180&&(this.angle-=Math.PI),this.initialAngle=this.angle,this.minScale="undefined"==typeof e.minScale?9:e.minScale,this.maxScale="undefined"==typeof e.maxScale?10:e.maxScale,this.scale=(0,r.randInt)(this.minScale,this.maxScale)/10,this.minSpeed="undefined"==typeof e.minSpeed?1:e.minSpeed,this.maxSpeed="undefined"==typeof e.maxSpeed?3:e.maxSpeed;var s="left"===e.direction?-1:1;this.xSpeed=(0,r.rand)(this.minSpeed,this.maxSpeed)*s,"circle"!==e.type&&"ellipse"!==e.type||(this.radius=this.width&&this.width/2||this.xSpeed+2,this.width=this.width||2*this.radius,this.height=this.height||2*this.radius),this.xOffScreenOffset=this.width/2,this.yOffScreenOffset=this.height/2,this.clickAction=e.clickAction||n.defaultClickAction,this.world=n,this.canvasScale=n.canvasScale,this.canvas=n.canvas,this.context=this.canvas.getContext("2d"),this.xOffset=(this.canvas.width-this.width/2*this.canvasScale)/2,this.yOffset=(this.canvas.height-this.height/2*this.canvasScale)/2,this.handleResize(n.canvasScale)}return s(t,[{key:"calculateRespawnCoordinates",value:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0;n=t?this.xSpeed<0?(0,r.rand)(this.canvas.width+this.xOffScreenOffset,this.canvas.width+2*this.xOffScreenOffset):(0,r.rand)(2*-this.xOffScreenOffset,-this.xOffScreenOffset):(0,r.rand)(2*-this.xOffScreenOffset,this.canvas.width+2*this.xOffScreenOffset);var i=void 0;i=e?-1*this.yOffScreenOffset:(0,r.rand)(this.topOffset,this.canvas.height-this.bottomOffset),this.x=n,this.y=i}return t}()},{key:"calculateStartCoordinates",value:function(){function t(){this.x=(0,r.rand)(0,this.canvas.width),this.y=(0,r.rand)(this.topOffset,this.canvas.height-this.bottomOffset)}return t}()},{key:"checkOffScreen",value:function(){function t(){(this.xSpeed>0&&this.x>this.canvas.width+this.xOffScreenOffset||this.xSpeed<0&&this.x<-this.xOffScreenOffset||this.y>this.canvas.height+this.yOffScreenOffset-this.bottomOffset||this.y<-this.yOffScreenOffset+this.topOffset)&&this.calculateRespawnCoordinates()}return t}()},{key:"setAnimation",value:function(){function t(t){this.animation=t,t.setEntity(this)}return t}()},{key:"draw",value:function(){function t(t,e){e()}return t}()},{key:"canvasClicked",value:function(){function t(){}return t}()},{key:"handleResize",value:function(){function t(t){this.bottomOffset=(this.props.bottomOffset||0)*t,this.topOffset=(this.props.topOffset||0)*t,this.xOffset=(this.canvas.width-this.width/2*t)/2,this.yOffset=(this.canvas.height-this.height/2*t)/2,this.canvasScale=t}return t}()}]),t}();e["default"]=a},201:function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.SkittishFish=e.Fish=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(){function t(e,n,i){null===e&&(e=Function.prototype);var s=Object.getOwnPropertyDescriptor(e,n);if(void 0===s){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in s)return s.value;var a=s.get;if(void 0!==a)return a.call(i)}return t}(),u=n(59),h=i(u),f=n(41),l=e.Fish=function(t){function e(t,n){s(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.toString=function(){return"[FISH] ID: "+i.id+" \n            type: "+i.type+" \n            xSpeed: "+i.xSpeed+" \n            Dimensions: "+i.width+"x"+i.height+" \n            At: "+i.x+","+i.y+" \n            Direction: "+i.direction},i.yOffScreenOffset=0,i.clickAction=i.clickAction||["flip"],i.speed=i.xSpeed,i.xSpeed=(0,f.rand)()-.5,i.randomizeYSpeed="undefined"==typeof t.randomizeYSpeed||t.randomizeYSpeed,i.ySpeed=i.randomizeYSpeed?(0,f.rand)(-.07,.07):0,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calculateStartCoordinates",i).call(i),i}return a(e,t),o(e,[{key:"draw",value:function(){function t(t,e){this.angle=Math.atan2(this.ySpeed,this.xSpeed),this.xSpeed=Math.cos(this.angle)*this.speed,this.ySpeed=Math.sin(this.angle)*this.speed,this.x+=this.xSpeed,this.y+=this.ySpeed,this.randomizeYSpeed&&(this.ySpeed>0?this.ySpeed-=Math.min(this.ySpeed,.07):this.ySpeed<0&&(this.ySpeed+=Math.max(this.ySpeed,.07))),e()}return t}()},{key:"calculateRespawnCoordinates",value:function(){function t(){this.y>this.canvas.height-this.bottomOffset?this.randomizeYSpeed?this.ySpeed-=.09:this.y-=1:this.randomizeYSpeed&&this.y<this.topOffset?this.randomizeYSpeed?this.ySpeed+=.09:this.y+=1:(this.scale=(0,f.randInt)(this.minScale,this.maxScale)/10,this.xSpeed=(0,f.rand)()-.5,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calculateRespawnCoordinates",this).call(this,!0,!1))}return t}()}]),e}(h["default"]);e.SkittishFish=function(t){function e(t,n){s(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.originalSpeed=i.speed,i.swimmingAway=0,i}return a(e,t),o(e,[{key:"canvasClicked",value:function(){function t(t,e){var n=void 0,i=void 0;this.x>t?(n=(0,f.py)(this.x-t,this.y-e),i=this.xSpeed>0?1:-1,i=this.xSpeed<0?1:i):(n=(0,f.py)(t-this.x,e-this.y),i=this.xSpeed>0?-1:1,i=this.xSpeed<0?-1:i),n<200&&0===this.swimmingAway&&(this.mouseY=e,this.xSpeed=Math.abs(this.xSpeed)*i,this.swimmingAway=.1,this.speed+=20,this.y>this.canvas.height-this.bottomOffset||this.y<this.topOffset||!this.randomizeYSpeed||(this.ySpeed-=(this.mouseY-this.y)/50))}return t}()},{key:"draw",value:function(){function t(t,n){var i=this;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this,t,function(){i.swimmingAway&&(i.speed-=f.easeOut.get(i.swimmingAway)+2,i.swimmingAway+=.1,i.speed<=i.originalSpeed&&(i.speed=i.originalSpeed,i.swimmingAway=0)),n()})}return t}()},{key:"calculateRespawnCoordinates",value:function(){function t(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calculateRespawnCoordinates",this).call(this)}return t}()}]),e}(l)},202:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.DEFAULT_BACKGROUND={src:"//ak.staticimgfarm.com/images/webtooltab/assets/nocache/wallpapers/animated/themes/BG-fishtank1.jpg"},e.DEFAULT_ASSETS=[{id:"stripesOrangeAndWhiteFish",src:"//ak.staticimgfarm.com/images/webtooltab/assets/canvas/fish1.png",width:100,height:60,bottomOffset:120,topOffset:32,spriteFrames:13,minNumAssets:7,maxNumAssets:7},{id:"blueAndBlackFish",src:"//ak.staticimgfarm.com/images/webtooltab/assets/canvas/fish2.png",width:100,height:60,bottomOffset:120,topOffset:32,spriteFrames:13,minNumAssets:6,maxNumAssets:6},{id:"yellowFish",src:"//ak.staticimgfarm.com/images/webtooltab/assets/canvas/fish3.png",width:100,height:60,bottomOffset:120,topOffset:32,spriteFrames:13,minNumAssets:7,maxNumAssets:7}],e.DEFAULT_CLICK_ACTION=["flip"],e.DEFAULT_DELAY_BETWEEN_FRAMES=3,e.EASTER_EGG_CONFIG={clickAction:["flip"],background:{src:"//ak.staticimgfarm.com/images/webtooltab/assets/canvas/bg_tank.jpg"},assets:[{id:"stripesOrangeAndWhiteFish",src:"//ak.staticimgfarm.com/images/webtooltab/assets/canvas/fish1.png",width:100,height:60,bottomOffset:120,topOffset:32,spriteFrames:13,minNumAssets:300,maxNumAssets:300},{id:"blueAndBlackFish",src:"//ak.staticimgfarm.com/images/webtooltab/assets/canvas/fish2.png",width:100,height:60,bottomOffset:120,topOffset:32,spriteFrames:13,minNumAssets:350,maxNumAssets:350},{id:"yellowFish",src:"//ak.staticimgfarm.com/images/webtooltab/assets/canvas/fish3.png",width:100,height:60,bottomOffset:120,topOffset:32,spriteFrames:13,minNumAssets:350,maxNumAssets:350}]}},203:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i="CANVAS_ANIM_UPDATE_ASSET_MULTIPLIER",s=(e.updateAssetMultiplier=function(t){return{type:i,numAssetMultiplier:t}},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case i:return n({},t,{numAssetMultiplier:e.numAssetMultiplier});default:return t}});s.syncToLocalStorage=!0,s.hydrateFilter=function(t,e){return{numAssetMultiplier:e.numAssetMultiplier||1}},s.saveFilter=function(t){return{numAssetMultiplier:t.numAssetMultiplier}},e["default"]=s},377:function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(){function t(e,n,i){null===e&&(e=Function.prototype);var s=Object.getOwnPropertyDescriptor(e,n);if(void 0===s){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in s)return s.value;var a=s.get;if(void 0!==a)return a.call(i)}return t}(),u=n(59),h=i(u),f=n(41),l=function(t){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,e);var a=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return a.toString=function(){return"[BUBBLE] ID: "+a.id+" type: "+a.type+" Speed: "+a.xSpeed+" Dimensions: "+a.width+"x"+a.height+" At: "+a.x+","+a.y+" Direction: "+a.direction+" Fill style: "+a.fillStyle},a.parent=i,a.angle=0,a.direction=(0,f.randInt)(-1,1),a.startTime=(0,f.randInt)(0,2e3),a.xOffScreenOffset=0,a.clickAction=a.clickAction||["remove"],a.startXOffset=t.startXOffset,a.startYOffset=t.startYOffset,a.calculateRespawnCoordinates(),a}return a(e,t),o(e,[{key:"draw",value:function(){function t(t,e){if(this.angle+=1,this.angle>360&&(this.angle=0),t>this.startTime){var n=this.angle*(Math.PI/180);this.direction=t%30===0?(0,f.randInt)(-1,1):this.direction,this.x+=Math.sin(n/(0,f.randInt)(5,20))*(0,f.rand)()*this.direction,this.y-=Math.abs(Math.cos(n/25))*this.xSpeed,e()}}return t}()},{key:"handleResize",value:function(){function t(t){if(!this.parent){var n=this.startXOffset*this.canvasScale+this.xOffset,i=this.startYOffset*this.canvasScale+this.yOffset;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"handleResize",this).call(this,t);var s=this.startXOffset*t+this.xOffset,r=this.startYOffset*t+this.yOffset;this.x=s+(this.x-n),this.y=r+(this.y-i)}}return t}()},{key:"calculateRespawnCoordinates",value:function(){function t(){if(this.parent){var t=this.parent.xSpeed<0?-1:1;this.x=this.parent.x+(this.startXOffset||0)*t,this.y=this.parent.y+(this.startYOffset||0),this.startTime=0}else this.x=this.startXOffset*this.canvasScale+this.xOffset,this.y=this.startYOffset*this.canvasScale+this.yOffset}return t}()}]),e}(h["default"]);e["default"]=l},378:function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(59),u=i(c),h=n(41),f=function(t){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,e);var a=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return a.ySpeed=0,a.xSpeed=.1,a.direction=(0,h.randInt)([-1,1]),a.parent=i,a.startXOffset=(0,h.rand)(2*a.width,5*a.width),a.startYOffset=(0,h.rand)(2*a.height,5*a.height),a.calculateStartCoordinates(),a.startX=a.x,a.angle=(0,h.randInt)(0,360),a}return a(e,t),o(e,[{key:"draw",value:function(){function t(t,e){this.direction>0&&this.x<this.startX+this.parent.width||this.direction<0&&this.x>this.startX-this.parent.width?this.x+=3*this.direction:Math.abs(this.xSpeed)<=1&&(this.x+=h.easeIn.get(this.xSpeed)+1*this.direction,this.xSpeed+=.1),this.y+=this.ySpeed,this.ySpeed+=(0,h.rand)(.3,.5),e()}return t}()},{key:"calculateStartCoordinates",value:function(){function t(){if(this.parent){var t=this.parent.xSpeed<0?-1:1;this.x=this.parent.x+(this.startXOffset||0)*t,this.y=this.parent.y+(this.startYOffset||0)}else this.x=this.startXOffset*this.canvasScale+this.xOffset,this.y=this.startYOffset*this.canvasScale+this.yOffset}return t}()},{key:"calculateRespawnCoordinates",value:function(){function t(){this.world.removeFish(this)}return t}()}]),e}(u["default"]);e["default"]=f},379:function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(41),c=n(201),u=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e);var a=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(a.following=r,a.followDistance=(0,o.rand)(50,400),a.xOffScreenOffset=a.width,a.yOffScreenOffset=0,a.speed=(0,o.rand)(3,3.5),r)a.xSpeed=r.xSpeed,a.ySpeed=r.ySpeed;else{a.xSpeed=(0,o.rand)()-.5,a.ySpeed=(0,o.rand)()-.5,a.entourage=[];for(var c=0;c<t.flockSize;c++)a.entourage.push(a.world.addFish(a,t))}return a}return r(e,t),a(e,[{key:"canvasClicked",value:function(){function t(t,e){(0,o.py)(this.x-t,this.y-e)<200&&(this.mouseX=t,this.mouseY=e,this.swimmingAway=30,this.speedBoost=4)}return t}()},{key:"draw",value:function(){function t(t,e){if(this.swimmingAway)this.xSpeed-=(this.mouseX-this.x)/50,this.ySpeed-=(this.mouseY-this.y)/50,this.swimmingAway-=1;else if(this.speedBoost=0,null!==this.following){for(var n=0;n<this.following.entourage.length;n++){var i=this.following.entourage[n];i!==this&&(0,o.py)(this.x-i.x,this.y-i.y)<30&&(this.xSpeed-=(i.x-this.x)/2e3,this.ySpeed-=(i.y-this.y)/2e3)}this.followingDistance=(0,o.py)(this.x-this.following.x,this.y-this.following.y),this.followingDistance>this.followDistance&&(this.speedBoost=1.3,this.xSpeed+=(this.following.x-this.x)/2e3,this.ySpeed+=(this.following.y-this.y)/2e3)}else this.xSpeed+=(0,o.rand)()/50*(0,o.rand)(-1,1),this.ySpeed+=(0,o.rand)()/50*(0,o.rand)(-1,1);this.angle=Math.atan2(this.ySpeed,this.xSpeed),this.xSpeed=Math.cos(this.angle)*(this.speed+this.speedBoost),this.ySpeed=Math.sin(this.angle)*(this.speed+this.speedBoost),this.x+=this.xSpeed,this.y+=this.ySpeed,e()}return t}()},{key:"calculateRespawnCoordinates",value:function(){function t(){this.swimmingAway=0,this.y>this.canvas.height/2&&(this.xSpeed-=(this.canvas.width/2-this.x)/1e3,this.ySpeed+=(this.canvas.height/2-this.y)/1e3),this.xSpeed+=(this.canvas.width/2-this.x)/1e3,this.ySpeed+=(this.canvas.height/2-this.y)/1e3}return t}()}]),e}(c.Fish);e["default"]=u},380:function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(59),u=i(c),h=n(41),f=function(t){function e(t,n){s(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.fingerprint(),i}return a(e,t),o(e,[{key:"fingerprint",value:function(){function t(){var t=this.canvas.height-190;this.main={bottom:t,xpos:300+(0,h.rand)(-50,50),top:t-(0,h.rand)(50,150)},this.stem={stemThickness:7,randx1:(0,h.rand)(this.main.xpos-35,this.main.xpos),randx2:(0,h.rand)(this.main.xpos+35,this.main.xpos),curve:this.main.top-this.main.bottom};var e=(0,h.randInt)(3,5);this.leaves=[];for(var n=0;n<e;n++)this.leaves.push(this.generateLeaf())}return t}()},{key:"generateLeaf",value:function(){function t(){var t=this.stem.randx1+(0,h.rand)(-100,100),e=this.stem.randx1+(0,h.rand)(100,400);return{leafX:t,leafY:e,leafCurveUp:this.main.top,leafUp:this.stem.randx1+(t-this.stem.randx1)/7,leafBack:this.stem.randx1,leafCurveBack:this.main.top-(this.main.top-e)/6}}return t}()},{key:"draw",value:function(){function t(t,e){this.drawPlant(),this.drawLeaf(t)}return t}()},{key:"drawPlant",value:function(){function t(){this.context.save(),this.context.shadowOffsetX=2,this.context.shadowOffsetY=2,this.context.shadowBlur=8,this.context.shadowColor="#365B31",this.context.strokeStyle="#0A520A",this.context.lineCap="round",this.context.lineWidth=this.stem.stemThickness,this.context.beginPath(),this.context.moveTo(this.main.xpos,this.main.bottom),this.context.bezierCurveTo(this.stem.randx1,this.main.bottom-this.stem.curve,this.stem.randx2,this.main.top-2*this.stem.curve,this.stem.randx1,this.main.top),this.context.stroke(),this.context.globalCompositeOperation="source-over",this.context.restore()}return t}()},{key:"drawLeaf",value:function(){function t(t){this.context.lineWidth=1,this.context.beginPath(),this.context.moveTo(this.stem.randx1,this.main.top);var e=t%30;e>15&&(e=30-e);for(var n=0;n<this.leaves.length;n++){var i=this.leaves[n],s=0===n?0:1;this.context.quadraticCurveTo(i.leafUp-e/2,i.leafCurveUp-e/6,i.leafX+e/[2,3][s],i.leafY+e/[6,8][s]),this.context.quadraticCurveTo(i.leafBack-e/2,i.leafCurveBack-e/6,this.stem.randx1,this.main.top),this.context.fillStyle="#003300",this.context.fill(),this.context.strokeStyle="#0A520A",this.context.stroke()}this.context.globalCompositeOperation="source-over"}return t}()}]),e}(u["default"]);e["default"]=f},381:function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(){function t(e,n,i){null===e&&(e=Function.prototype);var s=Object.getOwnPropertyDescriptor(e,n);if(void 0===s){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in s)return s.value;var a=s.get;if(void 0!==a)return a.call(i)}return t}(),u=n(59),h=i(u),f=n(41),l=function(t){function e(t,n){s(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.snowflakeAngle=0,i.amplitude=(0,f.rand)(1,3),i.xOffScreenOffset=i.canvas.width/5,i.yOffScreenOffset=i.height,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calculateRespawnCoordinates",i).call(i),i}return a(e,t),o(e,[{key:"toString",value:function(){function t(){return"[SNOW] ID: "+this.id+" type: "+this.type+" Speed: "+this.xSpeed+" Dimensions: "+this.width+"x"+this.height+" At: "+this.x+","+this.y+" Direction: "+this.direction+" Fill style: "+this.fillStyle}return t}()},{key:"draw",value:function(){function t(t,e){this.snowflakeAngle=t%360;var n=this.snowflakeAngle*(Math.PI/180);this.amplitude=t%30===0?(0,f.rand)(1,3):this.amplitude,this.x+=Math.sin(n)*this.amplitude,this.y+=Math.abs(Math.cos(n)*(0,f.rand)())+this.xSpeed,e()}return t}()},{key:"calculateRespawnCoordinates",value:function(){function t(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calculateRespawnCoordinates",this).call(this,!1,!0)}return t}()}]),e}(h["default"]);e["default"]=l},382:function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(){function t(e,n,i){null===e&&(e=Function.prototype);var s=Object.getOwnPropertyDescriptor(e,n);if(void 0===s){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in s)return s.value;var a=s.get;if(void 0!==a)return a.call(i)}return t}(),u=n(59),h=i(u),f=function(t){function e(t,n){s(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.startXOffset=t.startXOffset,i.startYOffset=t.startYOffset,i.calculateStartCoordinates(),i}return a(e,t),o(e,[{key:"toString",value:function(){function t(){return"[STATIONARY] ID: "+this.id+" \n            Dimensions: "+this.width+"x"+this.height+"\n            At: "+this.x+","+this.y+"\n            Start Offsets: "+this.startXOffset+","+this.startYOffset+"\n            Canvas Offsets: "+this.xOffset+","+this.yOffset}return t}()},{key:"calculateStartCoordinates",value:function(){function t(){this.x=this.startXOffset*this.canvasScale+this.xOffset,this.y=this.startYOffset*this.canvasScale+this.yOffset}return t}()},{key:"checkOffScreen",value:function(){function t(){}return t}()},{key:"handleResize",value:function(){function t(t){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"handleResize",this).call(this,t),this.calculateStartCoordinates()}return t}()}]),e}(h["default"]);e["default"]=f},383:function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){return{isDev:"DEV"===t.commonReducer.env,numAssetMultiplier:t.canvasAnimation.numAssetMultiplier||1}}Object.defineProperty(e,"__esModule",{value:!0});var c,u,h=function(){var t="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(){function e(e,n,i,s){var r=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&r)for(var o in r)void 0===n[o]&&(n[o]=r[o]);else n||(n=r||{});if(1===a)n.children=s;else if(a>1){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+3];n.children=c}return{$$typeof:t,type:e,key:void 0===i?null:""+i,ref:null,props:n,_owner:null}}return e}()}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=n(1),d=(i(p),n(5)),m=n(13),y=i(m),v=n(783),g=i(v),w=n(2),b=n(384),S=i(b),O=n(202);n(386),n(387),n(883);var x=(u=c=function(t){function e(){return s(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"componentDidMount",value:function(){function t(){this.startAnimation(),y["default"].add(window,"resize",e.handleResize),y["default"].add(document,"mousedown",e.handleClick)}return t}()},{key:"componentDidUpdate",value:function(){function t(){this.startAnimation()}return t}()},{key:"componentWillUnmount",value:function(){function t(){y["default"].remove(window,"resize",e.handleResize),y["default"].remove(document,"mousedown",e.handleClick),S["default"].cancelAnimationLoop()}return t}()},{key:"startAnimation",value:function(){function t(t){var e=t?f({},t,{numAssetMultiplier:this.props.numAssetMultiplier,dispatch:this.props.dispatch}):f({},this.props);S["default"].init(e)}return t}()},{key:"render",value:function(){function t(){var t=this;return e.isCanvasSupported()?h("div",{},void 0,h("canvas",{id:"canvasAnimation",className:this.props.animationType}),h(g["default"],{easterEgg:function(){function e(){t.startAnimation(O.EASTER_EGG_CONFIG),w.UnifiedLogging.track(w.EventMap.uiControl({name:"konamiCode",type:"input",section:"content",action:"key"}))}return e}()})):null}return t}()}],[{key:"handleClick",value:function(){function t(t){S["default"].handleClick(t)}return t}()},{key:"handleResize",value:function(){function t(t){S["default"].handleResize(t)}return t}()},{key:"isCanvasSupported",value:function(){function t(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}return t}()}]),e}(p.Component),c.defaultProps={background:O.DEFAULT_BACKGROUND,assets:O.DEFAULT_ASSETS,clickAction:O.DEFAULT_CLICK_ACTION},u);e["default"]=(0,d.connect)(o)(x)},384:function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),o=n(41),c=n(203),u=n(201),h=n(381),f=i(h),l=n(377),p=i(l),d=n(382),m=i(d),y=n(380),v=i(y),g=n(379),w=i(g),b=n(378),S=i(b),O=n(202),x=function(){function t(e,n){s(this,t),this.resources=e,this.images=[],this.imagesIndexAssoc=[],this.numAssetDefinitions=0,this.canvasManager=n;var i=this.resources.assets;this.numAssetDefinitions=i.length;for(var r=0;r<this.numAssetDefinitions;r++)this.addAsset(i[r]);this.addAsset({id:"background",src:this.resources.background.src}),this.loadImages()}return r(t,[{key:"addAsset",value:function(){function t(t){this.imagesIndexAssoc[t.id]=this.images.push(t)-1}return t}()},{key:"loadImages",value:function(){function e(){for(var e=void 0,n=0;n<this.images.length;n++)e=this.images[n],e.image=this.images[n].src?t.loadImage(this.images[n].src):null}return e}()},{key:"allImagesLoaded",value:function(){
function e(){for(var e=!0,n=0;n<this.images.length&&e;)this.images[n].image&&!t.isImageLoaded(this.images[n].image)&&(e=!1),n++;return e}return e}()},{key:"getBackground",value:function(){function t(){return this.images[this.imagesIndexAssoc.background].image}return t}()},{key:"getResource",value:function(){function t(t){return this.images[this.imagesIndexAssoc[t]]}return t}()}],[{key:"loadImage",value:function(){function t(t,e){var n=new Image;return n.src=t,void 0!==e&&(n.onload=e),n}return t}()},{key:"isImageLoaded",value:function(){function t(t){return t.complete&&0!==t.naturalWidth}return t}()}]),t}(),_=function(){function t(e,n){s(this,t),this.resourceManager=n,this.imageSrc=e.image,this.framesCount=e.spriteFrames||1,this.frameRect={x:0,y:0,width:this.imageSrc.width/this.framesCount,height:this.imageSrc.height},this.delayTimer=0,this.frameIndex=0,this.currentPlayCount=0,this.scenes=e.scenes,this.scenes||(this.scenes=[{name:"default",firstFrame:0,lastFrame:this.framesCount-1}]),this.setScene("default",!0)}return r(t,[{key:"setEntity",value:function(){function t(t){this.entity=t}return t}()},{key:"doSceneAction",value:function(){function t(t){if(t.actions&&t.actions.length){var e=(0,o.randInt)(t.actions);switch(e){case"spawn":this.resourceManager.canvasManager.generateFish(this.entity,t.spawnProps)}}}return t}()},{key:"setScene",value:function(){function t(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,i=!1;n<this.scenes.length&&!i;)this.scenes[n].name===t?(this.currentScene=this.scenes[n],e?this.frameIndex=(0,o.randInt)(this.currentScene.firstFrame,this.currentScene.lastFrame):this.frameIndex=this.currentScene.firstFrame,this.currentScene.delayBetweenFrames="number"==typeof this.currentScene.delayBetweenFrames?this.currentScene.delayBetweenFrames:O.DEFAULT_DELAY_BETWEEN_FRAMES,this.currentScene.playCount=this.currentScene.playCount||1,this.doSceneAction(this.currentScene),i=!0,this.currentPlayCount=0):n++}return t}()},{key:"doAnimation",value:function(){function t(){this.framesCount>0&&(this.delayTimer++,this.delayTimer>=this.currentScene.delayBetweenFrames&&(this.frameIndex++,this.currentPlayCount++,this.delayTimer=0,this.frameIndex>this.currentScene.lastFrame&&(!this.currentScene.gotoAndPlay||this.currentPlayCount<this.currentScene.playCount?this.frameIndex=this.currentScene.firstFrame:this.setScene((0,o.randInt)(this.currentScene.gotoAndPlay)))),this.frameRect.x=this.frameRect.width*this.frameIndex)}return t}()}]),t}(),k=function(){function t(e){s(this,t),this.resourceManager=e}return r(t,[{key:"initAnimation",value:function(){function t(t){var e=this.resourceManager.getResource(t.id),n=new _(e,this.resourceManager);t.setAnimation(n)}return t}()},{key:"getAnimation",value:function(){function t(t){return null===t.animation&&this.initAnimation(t),t.animation}return t}()}]),t}(),A={lastDrawTime:null,animationFrameRequestID:-1,fpsDesired:30,minFpsDesired:25,fpsInterval:null,frameCount:0,fpsSamplingPeriod:1e3,maxFpsSamples:100,maxTrueFpsSamples:10,minAssetMultiplier:.32,classMap:{fish:u.Fish,skittishFish:u.SkittishFish,snow:f["default"],bubble:p["default"],stationary:m["default"],plant:v["default"],flock:w["default"],fallingObject:S["default"]},init:function(){function t(t){var e=this;this.cancelAnimationLoop(),this.initFrameRateSampling(),this.fish=[],this.points=[],this.score=0,this.canvas=document.getElementById("canvasAnimation"),this.context=this.canvas.getContext("2d"),this.numInstancesToDisplay=0,this.debug=t.isDev,this.defaultAnimationType=t.animationType||"fish",this.defaultClickAction=t.clickAction,this.numAssetMultiplier=t.numAssetMultiplier,this.dispatch=t.dispatch,this.handleClick=this.handleClick.bind(this),this.handleResize=this.handleResize.bind(this),this.context.font="bold 50px Arial",this.context.fillStyle="black",this.context.textAlign="center",this.resourceManager=new x({assets:t.assets,background:t.background},this),this.animationManager=new k(this.resourceManager),this.handleResize(),window.clearInterval(A.intervalLoadImages),A.intervalLoadImages=setInterval(function(){e.resourceManager.allImagesLoaded()&&(window.clearInterval(A.intervalLoadImages),e.startMainLoop())},100)}return t}(),initFrameRateSampling:function(){function t(){this.fpsSampling=!0,this.fpsSamples=[],this.fpsFrameCount=0,this.fpsLastSampleTime=null}return t}(),startMainLoop:function(){function t(){A.canvasAnimationStarted===!1&&(A.canvasAnimationStarted=!0,this.loadTank(),this.resourceManager.resources.assets.forEach(this.generateFish.bind(this,null)),this.fish=(0,o.shuffle)(this.fish),this.fpsInterval=1e3/this.fpsDesired,this.lastDrawTime=performance.now(),this.mainLoop())}return t}(),mainLoop:function(){function t(){var t=this,e=performance.now(),n=e-this.lastDrawTime;n>this.fpsInterval&&(this.lastDrawTime=e-n%this.fpsInterval,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.animate(this.frameCount),this.frameCount++,this.fpsFrameCount++),this.fpsSampling&&this.sampleFps(),this.animationFrameRequestID=window.requestAnimationFrame(function(){t.mainLoop()})}return t}(),sampleFps:function(){function t(){var t=performance.now();if(t-this.fpsLastSampleTime>this.fpsSamplingPeriod){var e=this.fpsFrameCount/(t-this.fpsLastSampleTime)*1e3;this.fpsSamples.push(e);for(var n=(0,o.getAvg)(this.fpsSamples),i=[],s=0;s<this.fpsSamples.length;s++){var r=n-this.fpsSamples[s];r<.477*n&&i.push(this.fpsSamples[s])}if(i.length>this.maxTrueFpsSamples-1||this.fpsSamples.length>this.maxFpsSamples){var c=i.length>this.maxTrueFpsSamples-1?(0,o.getAvg)(i):this.fpsDesired;a.UnifiedLogging.track(a.EventMap.info({name:"fpsMonitor",type:"performance",section:"content",productData:{value:Math.round(c),min:Math.round(Math.min.apply(Math,i)),max:Math.round(Math.max.apply(Math,i)),median:Math.round((0,o.median)(i)),itemCount:this.fish.length,initialCount:this.numInstancesToDisplay,multiplier:this.numAssetMultiplier,url:this.resourceManager.getBackground().src}})),c<this.minFpsDesired&&this.numAssetMultiplier>this.minAssetMultiplier?this.reduceAnimationIntensity():this.fpsSampling=!1,this.fpsSamples=[]}this.fpsFrameCount=0,this.fpsLastSampleTime=t}}return t}(),reduceAnimationIntensity:function(){function t(){this.numAssetMultiplier*=.75,this.dispatch((0,c.updateAssetMultiplier)(this.numAssetMultiplier))}return t}(),cancelAnimationLoop:function(){function t(){this.animationFrameRequestID&&(window.cancelAnimationFrame(this.animationFrameRequestID),this.animationFrameRequestID=null),A.canvasAnimationStarted=!1}return t}(),setCanvasScale:function(){function t(){var t=this.resourceManager.getBackground(),e=this.canvas.width/t.width,n=this.canvas.height/t.height;e>n?this.canvasScale=e:this.canvasScale=n}return t}(),loadTank:function(){function t(){var t=this.resourceManager.getBackground();this.canvas.style.backgroundImage='url("'+t.src+'")',this.setCanvasScale()}return t}(),generateFish:function(){function t(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments[1],n=(0,o.randInt)(e.minNumAssets,e.maxNumAssets||e.minNumAssets),i=Math.ceil(this.numAssetMultiplier*n),s=0;s<i;s++)this.addFish(t,e);this.numInstancesToDisplay+=n}return t}(),addFish:function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments[1],n=e.animationType||this.defaultAnimationType,i=this.classMap[n],s=new i(e,{canvas:this.canvas,canvasScale:this.canvasScale,defaultClickAction:this.defaultClickAction,addFish:this.addFish.bind(this),removeFish:this.removeFish.bind(this)},t);return e.src&&this.animationManager.initAnimation(s),this.fish.push(s),s}return t}(),removeFish:function(){function t(t){var e=t;"number"!=typeof t&&(e=this.fish.indexOf(t)),this.fish.splice(e,1)}return t}(),animate:function(){function t(t){for(var e=this,n=function(){function n(n){var i=e.fish[n];i.draw(t,function(){if("circle"===i.type)e.drawCircle(i);else if("ellipse"===i.type)e.drawEllipse(i);else{var t=e.animationManager.getAnimation(i),n=i.scale*e.canvasScale,s=i.scale*e.canvasScale,r=i.angle;Math.abs(i.angle)>Math.PI/2&&(s*=-1,r*=-1),e.drawSprite(t.imageSrc,i.x,i.y,r,n,s,t.frameRect)}}),i.animation&&i.animation.doAnimation(),i.checkOffScreen()}return n}(),i=0;i<this.fish.length;i++)n(i);if("game"===this.defaultAnimationType){for(var i=0;i<this.points.length;i++){var s=this.points[i];s.lifetime++,s.lifetime>25?(this.points.splice(i,1),i--):(this.context.save(),this.context.shadowBlur=10,this.context.shadowColor="#FFFFFF",this.context.font="bold "+(10+s.lifetime)+"px Verdana",this.context.fillStyle="#12707F",this.context.textAlign="center",this.context.fillText(s.value,s.x,s.y+10),this.context.restore())}this.score>0&&(this.context.save(),this.context.shadowBlur=10,this.context.shadowColor="#FFFFFF",this.context.font="bold 30px Verdana",this.context.fillStyle="#12707F",this.context.textAlign="right",this.context.fillText("Score: "+this.score,this.canvas.width-25,this.canvas.height-80),this.context.restore())}}return t}(),handleResize:function(){function t(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.setCanvasScale();for(var t=0;t<this.fish.length;t++)this.fish[t].handleResize(this.canvasScale)}return t}(),handleClick:function(){function t(t){for(var e=this.canvas.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top,s=!1,r=this.fish.length-1;r>=0;r--){var c=this.fish[r],u=c.width*this.canvasScale*c.scale,h=c.height*this.canvasScale*c.scale;c.canvasClicked(n,i);var f=n>c.x-u/2&&n<c.x+u/2&&i>c.y-h/2&&i<c.y+h/2;if(f&&!s){s=!0;var l=(0,o.randInt)(c.clickAction);switch(l){case"remove":this.removeFish(r);break;case"respawn":c.calculateRespawnCoordinates();break;case"spawn":this.generateFish(c,c.props.spawnProps);break;case"flip":c.xSpeed=c.xSpeed*-1}var p=c.animation&&c.animation.currentScene.gotoOnClick;p&&c.animation.setScene((0,o.randInt)(p)),"game"===this.defaultAnimationType&&(this.points.push({value:10,lifetime:0,x:c.x,y:c.y}),this.score+=10),a.UnifiedLogging.track(a.EventMap.uiControl({name:"fish",type:"background",section:"content",productData:{itemName:c.id}}))}}}return t}(),drawSprite:function(){function t(t,e,n,i,s,r,a){this.context.save(),this.context.translate(e,n),this.context.scale(s,r),this.context.rotate(i),this.context.drawImage(t,a.x,a.y,a.width,a.height,-a.width/2,-a.height/2,a.width,a.height),this.context.restore()}return t}(),getFillStyle:function(){function t(t){switch(t.fillStyle&&t.fillStyle.type){case"color":return t.fillStyle.color;case"radialGradient":var e=this.context.createRadialGradient(t.x+t.radius,t.y-t.radius-t.radius/20,0,t.x+t.radius,t.y-t.radius-t.radius/20,t.radius);return t.fillStyle.colorStops.forEach(function(t,n){e.addColorStop(n,t)}),e;default:return"rgba("+(0,o.randInt)(255)+", "+(0,o.randInt)(255)+", "+(0,o.randInt)(255)+", 0.8)"}}return t}(),drawCircle:function(){function t(t){this.context.save(),this.context.fillStyle=this.getFillStyle(t),this.context.beginPath(),this.context.arc(t.x,t.y,t.radius,0,2*Math.PI),this.context.fill(),this.context.restore()}return t}(),drawEllipse:function(){function t(t){this.context.save(),this.context.fillStyle=this.getFillStyle(t),this.context.beginPath(),this.context.ellipse(t.x,t.y,t.radius,t.radius+t.radius/2,t.angle,0,2*Math.PI),this.context.fill(),this.context.restore()}return t}(),drawRectangle:function(){function t(t,e,n,i,s,r){this.context.save(),void 0!==s&&(this.context.strokeStyle=s,this.context.strokeRect(t,e,n,i)),void 0!==r&&(this.context.fillStyle=r,this.context.fillRect(t,e,n,i)),this.context.restore()}return t}()};e["default"]=A},385:function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.reducers=e.ui=void 0;var s=n(383),r=i(s),a=n(203),o=i(a),c={canvasAnimation:o["default"]};e.ui=r["default"],e.reducers=c},386:function(t,e){!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){function e(){return Date.now()-t}return e}()}}()},387:function(t,e){window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(function(){var e=Date.now();t(e)},1e3/60)}},650:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,"#canvasAnimation{position:fixed;top:0;left:0;display:block;width:100%;height:100%;background-size:cover;background-position:50%;z-index:0}#canvasAnimation.game{cursor:crosshair}",""])},783:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),c=function(t){function e(t){i(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.n=0,n.delayId=null,n.onKeydown=n.onKeydown.bind(n),n}return r(e,t),a(e,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeydown)}},{key:"componentWillReceiveProps",value:function(t){var e=t.resetDelay,n=e!==this.props.resetDelay;n&&e<=0?this.delayOff():n&&(this.delayOff(),this.delayOn()),t.konami.join("")!==this.props.konami.join("")&&(this.resetN(),this.delayOff())}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeydown),this.delayOff()}},{key:"delayOff",value:function(){this.delayId&&clearTimeout(this.delayId)}},{key:"delayOn",value:function(){var t=this;this.props.resetDelay<=0||(this.delayOff(),this.delayId=setTimeout(function(){return t.resetN()},this.props.resetDelay))}},{key:"resetN",value:function(t){if(!t)return void(this.n=0);for(var e=1;this.n-- >0&&this.props.konami[this.n]===t;)e++;for(this.n=0;e-- >0&&this.props.konami[this.n]===t;)this.n++}},{key:"onKeydown",value:function(t){if(t.keyCode===this.props.konami[this.n]){if(this.n++,this.delayOn(),this.n===this.props.konami.length)return this.props.easterEgg(),this.resetN(),this.delayOff(),!1}else this.resetN(t.keyCode),this.delayOff()}},{key:"render",value:function(){return null}}]),e}(o.Component);c.propTypes={easterEgg:o.PropTypes.func.isRequired,konami:o.PropTypes.arrayOf(o.PropTypes.number),resetDelay:o.PropTypes.number},c.defaultProps={resetDelay:2e3,konami:[38,38,40,40,37,39,37,39,66,65]},e["default"]=c},883:[943,650]});